bash:
  link: ~/.config/bash/

bin:
  link: ~/.local/bin/

bspwm:
  link: ~/.config/bspwm/
  dependencies:
    - acpi
    - blueman
    - bspwm
    - i3lock
    - imagemagick
    - jq
    - network-manager
    - numix-gtk-theme
    - papirus-icon-theme
    - rofi
    - scrot
    - slop
    - sysstat
    - xbacklight
    - xclip
    - xinput

compton:
  link: ~/.config/compton/
  dependencies:
    - compton

feh:
  link: ~/.config/feh/
  dependencies:
    - feh

fonts:
  link: []
  postlink:
    - >
      sudo rm -f /usr/share/fonts/conf.d/70-no-bitmaps.conf &&
      sudo ln -svf /usr/share/fontconfig/conf.avail/70-yes-bitmaps.conf /usr/share/fonts/conf.d
    - >
      cp -u ./fonts/*.{ttf,bdf} ~/.local/share/fonts/ &&
      (cd ~/.local/share/fonts/ && mkfontdir && mkfontscale)
    - fc-cache --force --verbose
  dependencies:
    - mkfontdir
    - mkfontscale
    - xset

git:
  link: ~/.config/git/

gtk:
  link:
    - .gtkrc-2.0: ~/
    - settings.ini: ~/.config/gtk-3.0/

htop:
  link: ~/.config/htop/
  dependencies:
    - htop

misc:
  link:
    - redshift.conf: ~/.config/redshift/
  dependencies:
    - cabextract
    - p7zip
    - redshift
    - youtube-dl

mpd:
  link: ~/.config/mpd/
  postlink:
    - mkdir -pv ~/.config/mpd/playlists/
    - touch ~/.config/mpd/database
  dependencies:
    - mpc
    - mpd

mpv:
  link: ~/.config/mpv/
  postlink:
    - mkdir -pv ~/Pictures/Screenshots/
  dependencies:
    - mpv

ncmpcpp:
  link: ~/.config/ncmpcpp/
  dependencies:
    - ncmpcpp

polybar:
  link: ~/.config/polybar/
  dependencies:
    - font-awesome-ttf
    - polybar

ranger:
  link: ~/.config/ranger/
  dependencies:
    - atool
    - feh
    - highlight
    - imagemagick
    - ranger
    - w3m

rtorrent:
  link: ~/.config/rtorrent/
  postlink:
    - mkdir -pv ~/Downloads/complete/ ~/Downloads/incomplete/ ~/.config/rtorrent/sessions/
  dependencies:
    - rtorrent

sxhkd:
  link: ~/.config/sxhkd
  dependencies:
    - sxhkd

system:
  prelink:
    - sudo eopkg install --yes-all --component system.devel
  link: ~/
  dependencies:
    - rxvt-unicode
    - xrdb

dunst:
  prelink:
    - ./bin/xrdb-compile-colors --template ./dunst/dunstrc.template --destination ./dunst/dunstrc
  link:
    - dunstrc: ~/.config/dunst/
  dependencies:
    - dunst

tmux:
  link: ~/.config/tmux/
  dependencies:
    - tmux

vim:
  link: ~/.vim/
  postlink:
    - vim -c helptags ALL -c q!
    - ~/.vim/pack/plugins/start/fzf/install --all --xdg --no-update-rc
    - >
      curl --silent --location https://raw.githubusercontent.com/creationix/nvm/master/install.sh --output install_nvm.sh &&
      chmod 775 install_nvm.sh &&
      ./install_nvm.sh &&
      rm -f install_nvm.sh
    - python3 -m pip install autopep8 flake8 pylint python-language-server yapf
    - sudo npm install --global eslint javascript-typescript-langserver prettier
    - >
      curl --silent --show-error --fail https://sh.rustup.rs | sh &&
      export PATH="$PATH:~/.cargo/bin" &&
      rustup install nightly &&
      rustup default nightly &&
      rustup component add clippy rls rustfmt rust-analysis rust-src
  dependencies:
    - cppcheck
    - ctags
    - curl
    - llvm-clang
    - nodejs
    - pandoc
    - pip
    - ripgrep
    - vim

weechat:
  link: ~/.config/weechat/
  dependencies:
    - weechat

zathura:
  prelink:
    - ./bin/xrdb-compile-colors --template ./zathura/zathurarc.template --destination ./zathura/zathurarc
  link:
    - zathurarc: ~/.config/zathura/
  dependencies:
    - texlive-all
    - xdotool
    - zathura
